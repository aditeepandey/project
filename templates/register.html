{% extends "layout.html" %}

{% block title %} - Register{% endblock %}

{% block content %}
<div class="row justify-content-center my-5">
    <div class="col-md-8 col-lg-6">
        <div class="card shadow">
            <div class="card-header bg-primary text-white">
                <h3 class="mb-0"><i class="fas fa-user-plus me-2"></i>Create Account</h3>
            </div>
            <div class="card-body p-4">
                <form method="POST" action="{{ url_for('register') }}">
                    {{ form.hidden_tag() }}
                    
                    <div class="mb-3">
                        <label for="username" class="form-label">Username</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-user"></i></span>
                            {{ form.username(class="form-control", placeholder="Choose a username") }}
                        </div>
                        {% if form.username.errors %}
                            {% for error in form.username.errors %}
                                <div class="text-danger small">{{ error }}</div>
                            {% endfor %}
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        <label for="email" class="form-label">Email Address</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                            {{ form.email(class="form-control", placeholder="Enter your email") }}
                        </div>
                        {% if form.email.errors %}
                            {% for error in form.email.errors %}
                                <div class="text-danger small">{{ error }}</div>
                            {% endfor %}
                        {% endif %}
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="password" class="form-label">Password</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-lock"></i></span>
                                    {{ form.password(class="form-control", placeholder="Create a password") }}
                                </div>
                                {% if form.password.errors %}
                                    {% for error in form.password.errors %}
                                        <div class="text-danger small">{{ error }}</div>
                                    {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="confirm_password" class="form-label">Confirm Password</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-lock"></i></span>
                                    {{ form.confirm_password(class="form-control", placeholder="Confirm your password") }}
                                </div>
                                {% if form.confirm_password.errors %}
                                    {% for error in form.confirm_password.errors %}
                                        <div class="text-danger small">{{ error }}</div>
                                    {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-3 form-check">
                        {{ form.accept_tos(class="form-check-input") }}
                        <label class="form-check-label" for="accept_tos">
                            I accept the <a href="#" data-bs-toggle="modal" data-bs-target="#tosModal">Terms of Service</a>
                        </label>
                        {% if form.accept_tos.errors %}
                            {% for error in form.accept_tos.errors %}
                                <div class="text-danger small">{{ error }}</div>
                            {% endfor %}
                        {% endif %}
                    </div>
                    
                    <div class="d-grid gap-2 mb-3">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-user-plus me-2"></i>Register
                        </button>
                    </div>
                    
                    <div class="text-center">
                        <p>Already have an account? <a href="{{ url_for('login') }}">Login</a></p>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Terms of Service Modal -->
<div class="modal fade" id="tosModal" tabindex="-1" aria-labelledby="tosModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="tosModalLabel">Terms of Service</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h5>Terms and Conditions for Career Path Predictor</h5>
                <p>Last Updated: {{ now.strftime('%B %d, %Y') }}</p>
                <p>Please read these Terms of Service ("Terms", "Terms of Service") carefully before using the Career Path Predictor website.</p>
                
                <h6>1. Your Account</h6>
                <p>When you create an account with us, you must provide information that is accurate, complete, and current at all times. Failure to do so constitutes a breach of the Terms, which may result in immediate termination of your account on our Service.</p>
                
                <h6>2. Privacy Policy</h6>
                <p>Please review our Privacy Policy, which also governs your use of the Service, to understand our practices regarding the collection and use of your personal information.</p>
                
                <h6>3. Career Recommendations</h6>
                <p>The career recommendations provided through our service are for informational purposes only and should not be considered as professional career advice. Users should consult with qualified career counselors for personalized guidance.</p>
                
                <h6>4. Changes to Terms</h6>
                <p>We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material, we will try to provide at least 30 days' notice prior to any new terms taking effect.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">I Understand</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}